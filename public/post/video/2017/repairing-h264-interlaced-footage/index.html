<!DOCTYPE html>
<html lang="en-us" dir="ltr">
    <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content="Waking up from a progressive scan nightmare">
<title>Repairing H.264 Interlaced Footage</title>

<link rel='canonical' href='http://localhost:1313/post/video/2017/repairing-h264-interlaced-footage/'>

<link rel="stylesheet" href="/scss/style.min.663803bebe609202d5b39d848f2d7c2dc8b598a2d879efa079fa88893d29c49c.css"><meta property='og:title' content="Repairing H.264 Interlaced Footage">
<meta property='og:description' content="Waking up from a progressive scan nightmare">
<meta property='og:url' content='http://localhost:1313/post/video/2017/repairing-h264-interlaced-footage/'>
<meta property='og:site_name' content='Krishna Bhamidipati'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:tag' content='repair' /><meta property='article:published_time' content='2017-02-04T00:00:00&#43;00:00'/><meta property='article:modified_time' content='2017-02-04T00:00:00&#43;00:00'/>
<meta name="twitter:title" content="Repairing H.264 Interlaced Footage">
<meta name="twitter:description" content="Waking up from a progressive scan nightmare">
    </head>
    <body class="
    article-page
    ">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky ">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="Toggle Menu">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header>
        
            
            <figure class="site-avatar">
                <a href="/">
                
                    
                    
                    
                        
                        <img src="/img/avatar_hu13739649187745961479.png" width="300"
                            height="300" class="site-logo" loading="lazy" alt="Avatar">
                    
                
                </a>
                
                    <span class="emoji">ðŸ‘€</span>
                
            </figure>
            
        
        
        <div class="site-meta">
            <h1 class="site-name"><a href="/">Krishna Bhamidipati</a></h1>
            <h2 class="site-description">Keep Asking How</h2>
        </div>
    </header><ol class="menu" id="main-menu">
        
        
        
        <li >
            <a href='/page/archives/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <rect x="3" y="4" width="18" height="4" rx="2" />
  <path d="M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10" />
  <line x1="10" y1="12" x2="14" y2="12" />
</svg>



                
                <span>Archives</span>
            </a>
        </li>
        
        
        <li >
            <a href='/page/search/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="10" cy="10" r="7" />
  <line x1="21" y1="21" x2="15" y2="15" />
</svg>



                
                <span>Search</span>
            </a>
        </li>
        
        
        <li >
            <a href='/page/gear/' >
                
                
                
                    <svg  xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-device-laptop"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 19l18 0" /><path d="M5 6m0 1a1 1 0 0 1 1 -1h12a1 1 0 0 1 1 1v8a1 1 0 0 1 -1 1h-12a1 1 0 0 1 -1 -1z" /></svg>
                
                <span>Gear</span>
            </a>
        </li>
        
        
        <li >
            <a href='/page/about/' >
                
                
                
                    <svg  xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-lego"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9.5 11l.01 0" /><path d="M14.5 11l.01 0" /><path d="M9.5 15a3.5 3.5 0 0 0 5 0" /><path d="M7 5h1v-2h8v2h1a3 3 0 0 1 3 3v9a3 3 0 0 1 -3 3v1h-10v-1a3 3 0 0 1 -3 -3v-9a3 3 0 0 1 3 -3" /></svg>
                
                <span>About</span>
            </a>
        </li>
        
        
        <li >
            <a href='/page/links/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5" />
  <path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5" />
</svg>



                
                <span>Links</span>
            </a>
        </li>
        
        <li class="menu-bottom-section">
            <ol class="menu">

                
                    <li id="dark-mode-toggle">
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <span>Dark Mode</span>
                    </li>
                
            </ol>
        </li>
    </ol>
</aside>

    <aside class="sidebar right-sidebar sticky">
        
            
                
    <section class="widget archives">
        <div class="widget-icon">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <line x1="5" y1="9" x2="19" y2="9" />
  <line x1="5" y1="15" x2="19" y2="15" />
  <line x1="11" y1="4" x2="7" y2="20" />
  <line x1="17" y1="4" x2="13" y2="20" />
</svg>



        </div>
        <h2 class="widget-title section-title">Table of contents</h2>
        
        <div class="widget--toc">
            <nav id="TableOfContents">
  <ul>
    <li><a href="#the-rub">The Rub</a></li>
    <li><a href="#the-flawed-setup">The Flawed Setup</a></li>
    <li><a href="#the-rescue-contenders">The Rescue Contenders</a></li>
    <li><a href="#the-compressor-trick">The Compressor Trick</a></li>
    <li><a href="#deinterlace-tests">Deinterlace Tests</a></li>
    <li><a href="#summary-of-repair-solution">Summary of Repair Solution</a></li>
    <li><a href="#appendix-custom-encoding-presets-tried">Appendix: Custom Encoding Presets Tried</a>
      <ul>
        <li><a href="#x264-larry-jordan-esque-compressor">x264 Larry Jordan-esque (Compressor)</a></li>
        <li><a href="#x264-jan-ozer-esque-compressor">x264 Jan Ozer-esque (Compressor)</a></li>
        <li><a href="#x264-deinterlace-handbrake">x264 Deinterlace (HandBrake)</a></li>
        <li><a href="#x264-decomb-handbrake">x264 Decomb (HandBrake)</a></li>
        <li><a href="#x264-deinterlace-top-field-first-handbrake">x264 Deinterlace, Top Field First (HandBrake)</a></li>
        <li><a href="#x264-decomb-top-field-first-handbrake">x264 Decomb, Top Field First (HandBrake)</a></li>
        <li><a href="#apple-prores-422-compressor">Apple ProRes 422 (Compressor)</a></li>
        <li><a href="#h264-for-archival-compressor">H.264 for Archival (Compressor)</a></li>
        <li><a href="#phyx-cleaner">PHYX Cleaner</a></li>
      </ul>
    </li>
    <li><a href="#references">References</a></li>
  </ul>
</nav>
        </div>
    </section>

            
        
    </aside>


            <main class="main full-width">
    <article class="main-article">
    <header class="article-header">

    <div class="article-details">
    
    <header class="article-category">
        
            <a href="/categories/video/" >
                Video
            </a>
        
    </header>
    

    <div class="article-title-wrapper">
        <h2 class="article-title">
            <a href="/post/video/2017/repairing-h264-interlaced-footage/">Repairing H.264 Interlaced Footage</a>
        </h2>
    
        
        <h3 class="article-subtitle">
            Waking up from a progressive scan nightmare
        </h3>
        
    </div>

    
    
    
    
    <footer class="article-time">
        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published">Feb 04, 2017</time>
            </div>
        

        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



                <time class="article-time--reading">
                    6 minute read
                </time>
            </div>
        
    </footer>
    

    
</div>

</header>

    <section class="article-content">
    
    
    <h2 id="the-rub">The Rub
</h2><p>We&rsquo;ll start with a quote from Larry Jordan:</p>
<blockquote>
<p>X.264 and H.264 should only be used when creating files for the web. If you plan to edit the resulting file, convert it to ProRes instead. AVCHD files compressed into H.264 for editing will look just awful.</p>
</blockquote>
<p>Oops.</p>
<h2 id="the-flawed-setup">The Flawed Setup
</h2><p>I still use a Sony FX7 for some setups. It has a Firewire out which makes it perfect for livestreaming.</p>
<p>For this event, I wanted to (1) use the FX7 for livestreaming and (2) also record the raw HDV video itself for editing afterwards.</p>
<p>In order to avoid those awful MiniDV tapesâ€”whose tape changes I feared also might cause the live feed to that meant recording to disk. It wasn&rsquo;t possible to share the video source with both Wirecast and ScopeBox, so I thought, &ldquo;Hey, why not try recording straight to disk in Wirecast instead?&rdquo;</p>
<p>While <a class="link" href="/post/video/2016/live-streaming-lessons/" >this post</a> details many other general livestreaming lessons learned, there are a few major downsides to relying on Wirecast for raw footage which I now realize. Wirecast doesn&rsquo;t know how to &ldquo;automatically&rdquo; record as HDV; instead it manually requires setting the codec format, frame rate, etc. which felt too easy for me to mess up. For example: since HDV is technically a 4:3 1440x1080 image that&rsquo;s then stretched out, I wasn&rsquo;t sure whether I should record to 1920x1080 or 1440x1080.</p>
<p>So rather than deal with all that I said instead, &ldquo;Let&rsquo;s just save H.264 in Wirecast to disk!&rdquo; (It was a pretty neat setup actually, using two Wirecast documents open simultaneously, one for the livestream and one just for the camera&rsquo;s archive stream.) Just in case 1080p would create an upscale, I thought going 720p would be better.</p>
<p>Thus the Nightmare Before Recording began.</p>
<h2 id="the-rescue-contenders">The Rescue Contenders
</h2><p>Three approaches to &ldquo;uncomb&rdquo;<sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup> the baked in interlaced footage were tried:</p>
<ul>
<li><a class="link" href="https://handbrake.fr"  target="_blank" rel="noopener"
    >Handbrake</a> (v 0.10.5 x86_64)</li>
<li><a class="link" href="http://www.apple.com/final-cut-pro/compressor/"  target="_blank" rel="noopener"
    >Compressor 4</a> via forcing the field order to interlaced</li>
<li><a class="link" href="http://www.phyx.biz/phyxcleaner.html"  target="_blank" rel="noopener"
    >PHYX Cleaner plugin</a> as suggested on a Wirecast forum<sup id="fnref:2"><a href="#fn:2" class="footnote-ref" role="doc-noteref">2</a></sup></li>
</ul>
<p>Of these three, <strong>Compressor was the clear winner</strong>.</p>
<h2 id="the-compressor-trick">The Compressor Trick
</h2><p>Compressor, it seems, has a handy feature that allows &ldquo;forcing&rdquo; an input file&rsquo;s field order. By carefully clicking on the input file&rsquo;s box, the Inspector window on the right shows a little section called <strong>File Properties</strong>.</p>
<p><img src="/post/video/2017/repairing-h264-interlaced-footage/compressor-force-field-order.png"
	width="1104"
	height="915"
	
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="120"
		data-flex-basis="289px"
	
></p>
<p>Since the file is actually H.264, Compressor reads the metadata and selects Progressive by default. Changing this to <strong>Top First</strong> forces it to treat it as interlaced (since HDV is top field first).</p>
<h2 id="deinterlace-tests">Deinterlace Tests
</h2><p>All files, a total of 2.68 GB, are available <a class="link" href="https://f000.backblazeb2.com/file/TripodVideoNinja/HDV-Deinterlace-Repair-Experiments.zip" >here</a> for reference. Compressing them for web would precisely alter what we&rsquo;re trying to observe!</p>
<p>Note: please be considerate and only download them sparingly as needed.</p>
<p><strong>1080iHDVSavedAs720pH264Clip1.mov</strong></p>
<p>57 second clip, 30 MB.</p>
<div class="table-wrapper"><table>
  <thead>
      <tr>
          <th style="text-align: left">Output file</th>
          <th style="text-align: left">Size</th>
          <th style="text-align: left">Program used</th>
          <th style="text-align: left">Result</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: left">Apple Devices HD (Best Quality).m4v</td>
          <td style="text-align: left">49M</td>
          <td style="text-align: left">Compressor</td>
          <td style="text-align: left">BEST</td>
      </tr>
      <tr>
          <td style="text-align: left">Apple ProRes 422 Retiming Better.mov</td>
          <td style="text-align: left">498M</td>
          <td style="text-align: left">Compressor</td>
          <td style="text-align: left">FAIL</td>
      </tr>
      <tr>
          <td style="text-align: left">Apple ProRes 422 Stock.mov</td>
          <td style="text-align: left">498M</td>
          <td style="text-align: left">Compressor</td>
          <td style="text-align: left">FAIL</td>
      </tr>
      <tr>
          <td style="text-align: left">H.264 for Archival.mov</td>
          <td style="text-align: left">94M</td>
          <td style="text-align: left">Compressor</td>
          <td style="text-align: left">BEST</td>
      </tr>
      <tr>
          <td style="text-align: left">HandbrakeHighProfileDecombBob.mp4</td>
          <td style="text-align: left">30M</td>
          <td style="text-align: left">Handbrake</td>
          <td style="text-align: left">FAIL</td>
      </tr>
      <tr>
          <td style="text-align: left">HandbrakeHighProfileDecombBob60fps.mp4</td>
          <td style="text-align: left">30M</td>
          <td style="text-align: left">Handbrake</td>
          <td style="text-align: left">FAIL</td>
      </tr>
      <tr>
          <td style="text-align: left">HandbrakeHighProfileDecombBobTff.mp4</td>
          <td style="text-align: left">31M</td>
          <td style="text-align: left">Handbrake</td>
          <td style="text-align: left">FAIL</td>
      </tr>
      <tr>
          <td style="text-align: left">HandbrakeHighProfileDeinterflaceBobTff.mp4</td>
          <td style="text-align: left">37M</td>
          <td style="text-align: left">Handbrake</td>
          <td style="text-align: left">FAIL</td>
      </tr>
      <tr>
          <td style="text-align: left">HandbrakeHighProfileDeinterlaceBob.mp4</td>
          <td style="text-align: left">36M</td>
          <td style="text-align: left">Handbrake</td>
          <td style="text-align: left">FAIL</td>
      </tr>
      <tr>
          <td style="text-align: left">HandbrakeHighProfileDeinterlaceBob60fps.mp4</td>
          <td style="text-align: left">36M</td>
          <td style="text-align: left">Handbrake</td>
          <td style="text-align: left">FAIL</td>
      </tr>
      <tr>
          <td style="text-align: left">PhyxCleanerMasterFileH264.mov</td>
          <td style="text-align: left">49M</td>
          <td style="text-align: left">PHYX + FCPX</td>
          <td style="text-align: left">OK</td>
      </tr>
      <tr>
          <td style="text-align: left">PhyxCleanerMasterFileProRes.mov</td>
          <td style="text-align: left">499M</td>
          <td style="text-align: left">PHYX + FCPX</td>
          <td style="text-align: left">OK</td>
      </tr>
      <tr>
          <td style="text-align: left">Up to 4K Stock.mov</td>
          <td style="text-align: left">69M</td>
          <td style="text-align: left">Compressor</td>
          <td style="text-align: left">OK</td>
      </tr>
      <tr>
          <td style="text-align: left">x264 Jan Ozer-esque.mov</td>
          <td style="text-align: left">48M</td>
          <td style="text-align: left">Compressor + x264</td>
          <td style="text-align: left">FAIL</td>
      </tr>
      <tr>
          <td style="text-align: left">x264 Larry Jordan-esque.mov</td>
          <td style="text-align: left">47M</td>
          <td style="text-align: left">Compressor + x264</td>
          <td style="text-align: left">FAIL</td>
      </tr>
  </tbody>
</table></div>
<!-- raw HTML omitted -->
<p>From these experiments, it seems <strong>Handbrake&rsquo;s decombing/deinterlacing algorithms can&rsquo;t be forced on progressive video files</strong>. Even forcing the footage with <code>tff</code> as top-field-first<sup id="fnref:3"><a href="#fn:3" class="footnote-ref" role="doc-noteref">3</a></sup> yielded zero discernible difference. Handbrake&rsquo;s just meant to work on actual interlaced footage.</p>
<p>Also interesting to note is Handbrake seems to start video earlier from the GOP, even though the file itself started many frames later. Hence the audio is blank at the beginning of the output render file!</p>
<p>PHYX Cleaner&rsquo;s output was better than the original, but it&rsquo;s still rather comby. Both H.264 and ProRes master files appear identical in deinterlacing quality. Perhaps the plugin can be refined further from the stock plugin settings, but even if that were the case there are so many disadvantages:</p>
<ol>
<li>it&rsquo;s a paid plugin</li>
<li>each clip would require a separate Project in FCPX</li>
<li>exporting from FCPX can&rsquo;t be batched easily (like Compressor)</li>
</ol>
<p>Compressor however is the clear champion! In particular, the only passing Compressor renders were by <strong>forcing the field order <em>and</em> using Apple&rsquo;s stock H.264 codec</strong>. Forcing the field order and using an x264 codec<sup id="fnref:4"><a href="#fn:4" class="footnote-ref" role="doc-noteref">4</a></sup> made no differenceâ€”and rather looked like the poor output from Handbrake (likely because Handbrake uses x264 too).</p>
<h2 id="summary-of-repair-solution">Summary of Repair Solution
</h2><p><strong>1080iHDVSavedAs720pH264Clip2.mov</strong></p>
<p>Final confirmation with a 11 sec, 9 MB segment instead.</p>
<p><strong>Original</strong> <em>especially note the combing during fast hand movements</em></p>
<div class="video-wrapper">
    <video controls
      preload="none" poster="./deinterlace-clip2-better-retiming-poster.png">
        <source src="./1080iHDVSavedAs720pH264Clip2.mov" type="video/mp4">Your browser does not support the video tag.
    </video>
</div>



<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<div class="table-wrapper"><table>
  <thead>
      <tr>
          <th style="text-align: left">Output file</th>
          <th style="text-align: left">Size</th>
          <th style="text-align: left">Program used</th>
          <th style="text-align: left">Result</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: left">Up to 4K Stock.mov</td>
          <td style="text-align: left">14M</td>
          <td style="text-align: left">Compressor</td>
          <td style="text-align: left">BEST</td>
      </tr>
      <tr>
          <td style="text-align: left">Up to 4K Better Retiming.mov</td>
          <td style="text-align: left">14M</td>
          <td style="text-align: left">Compressor</td>
          <td style="text-align: left">BEST</td>
      </tr>
  </tbody>
</table></div>
<!-- raw HTML omitted -->
<p>It&rsquo;s hard for me to tell if there&rsquo;s an appreciable difference between the two retiming settings, but for sure the combing is no more!</p>
<p><strong>Repaired (Up to 4K Better Retiming)</strong> <em>look Ma, no lines!</em></p>
<div class="video-wrapper">
    <video controls
      preload="none" poster="./deinterlace-clip2-orig-poster.png">
        <source src="./1080iHDVSavedAs720pH264Clip2-Up-to-4K-Better-Retiming.mov" type="video/mp4">Your browser does not support the video tag.
    </video>
</div>



<p>So at the end of the day, <strong>forcing Compressor&rsquo;s input field order <em>and</em> exporting using Apple&rsquo;s H.264 codec works like a champ</strong>.</p>
<p>Phew!</p>
<h2 id="appendix-custom-encoding-presets-tried">Appendix: Custom Encoding Presets Tried
</h2><p>Details of all the presets used. All audio settings left as default.</p>
<h3 id="x264-larry-jordan-esque-compressor">x264 Larry Jordan-esque (Compressor)
</h3><p>Inspired by: <a class="link" href="https://larryjordan.com/articles/compressor-x264-improve-video/"  target="_blank" rel="noopener"
    >https://larryjordan.com/articles/compressor-x264-improve-video/</a></p>
<ul>
<li>QuickTime settings
<ul>
<li>Compression Type set to x264 Encoder</li>
<li>Key Frames set to Automatic (instead of Every 24 frames)</li>
<li>Data Rate set to Automatic (instead of 6400 kbps)</li>
<li>Encoding set to Best quality (Multi-pass)</li>
<li>Quality moved to High</li>
<li>Options &hellip;
<ul>
<li>Flags &gt; crf turned on. Everything else left as is</li>
</ul>
</li>
</ul>
</li>
<li>Retiming quality set to Better (Motion Adaptive)</li>
</ul>
<p><img src="/post/video/2017/repairing-h264-interlaced-footage/jordanx264-01.png"
	width="878"
	height="690"
	
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="127"
		data-flex-basis="305px"
	
>
<img src="/post/video/2017/repairing-h264-interlaced-footage/jordanx264-02.png"
	width="690"
	height="616"
	
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="112"
		data-flex-basis="268px"
	
>
<img src="/post/video/2017/repairing-h264-interlaced-footage/jordanx264-03.png"
	width="690"
	height="616"
	
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="112"
		data-flex-basis="268px"
	
>
<img src="/post/video/2017/repairing-h264-interlaced-footage/jordanx264-04.png"
	width="690"
	height="616"
	
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="112"
		data-flex-basis="268px"
	
>
<img src="/post/video/2017/repairing-h264-interlaced-footage/jordanx264-05.png"
	width="690"
	height="616"
	
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="112"
		data-flex-basis="268px"
	
>
<img src="/post/video/2017/repairing-h264-interlaced-footage/jordanx264-06.png"
	width="455"
	height="1034"
	
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="44"
		data-flex-basis="105px"
	
>
<img src="/post/video/2017/repairing-h264-interlaced-footage/jordanx264-07.png"
	width="455"
	height="1034"
	
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="44"
		data-flex-basis="105px"
	
></p>
<h3 id="x264-jan-ozer-esque-compressor">x264 Jan Ozer-esque (Compressor)
</h3><p>Inspired by: <a class="link" href="http://www.streaminglearningcenter.com/articles/first-look-apple-compressor-41.html"  target="_blank" rel="noopener"
    >http://www.streaminglearningcenter.com/articles/first-look-apple-compressor-41.html</a> and <a class="link" href="http://www.streaminglearningcenter.com/articles/encoding-with-the-x264-codec-with-compressor-4.html"  target="_blank" rel="noopener"
    >http://www.streaminglearningcenter.com/articles/encoding-with-the-x264-codec-with-compressor-4.html</a></p>
<ul>
<li>QuickTimeSettings
<ul>
<li>Set Compression Type to x264 Encoder</li>
<li>Options &hellip; &gt; Load preset &gt; Use Library native preset/tune
<ul>
<li>x264 preset left as Medium (default)</li>
<li>x264 tune left as None</li>
<li>Hit OK</li>
</ul>
</li>
<li>H.264 Profile limit left as up to High Profile
<ul>
<li>Hit OK</li>
</ul>
</li>
<li>Changed Key Frames to Automatic</li>
<li>Compressor Quality to High</li>
<li>Encoding to Best quality (Multi-pass)</li>
<li>Data Rate set to Automatic (instead of 6400 kbps)</li>
<li>Hit OK</li>
</ul>
</li>
<li>Retiming quality set to Better (Motion Adaptive)</li>
</ul>
<p><img src="/post/video/2017/repairing-h264-interlaced-footage/ozerx264-01.png"
	width="690"
	height="616"
	
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="112"
		data-flex-basis="268px"
	
>
<img src="/post/video/2017/repairing-h264-interlaced-footage/ozerx264-02.png"
	width="690"
	height="616"
	
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="112"
		data-flex-basis="268px"
	
>
<img src="/post/video/2017/repairing-h264-interlaced-footage/ozerx264-03.png"
	width="690"
	height="616"
	
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="112"
		data-flex-basis="268px"
	
>
<img src="/post/video/2017/repairing-h264-interlaced-footage/ozerx264-04.png"
	width="690"
	height="616"
	
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="112"
		data-flex-basis="268px"
	
>
<img src="/post/video/2017/repairing-h264-interlaced-footage/ozerx264-05.png"
	width="690"
	height="616"
	
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="112"
		data-flex-basis="268px"
	
>
<img src="/post/video/2017/repairing-h264-interlaced-footage/ozerx264-06.png"
	width="878"
	height="690"
	
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="127"
		data-flex-basis="305px"
	
>
<img src="/post/video/2017/repairing-h264-interlaced-footage/ozerx264-07.png"
	width="455"
	height="1034"
	
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="44"
		data-flex-basis="105px"
	
>
<img src="/post/video/2017/repairing-h264-interlaced-footage/ozerx264-08.png"
	width="455"
	height="1034"
	
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="44"
		data-flex-basis="105px"
	
></p>
<h3 id="x264-deinterlace-handbrake">x264 Deinterlace (HandBrake)
</h3><ul>
<li>Started with High Profile</li>
<li>Picture Settings &gt; Filters
<ul>
<li>Deinterlace: Bob</li>
</ul>
</li>
</ul>
<p><img src="/post/video/2017/repairing-h264-interlaced-footage/hbx264-01.png"
	width="519"
	height="307"
	
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="169"
		data-flex-basis="405px"
	
>
<img src="/post/video/2017/repairing-h264-interlaced-footage/hbx264-02.png"
	width="1269"
	height="758"
	
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="167"
		data-flex-basis="401px"
	
>
<img src="/post/video/2017/repairing-h264-interlaced-footage/hbx264-03.png"
	width="686"
	height="530"
	
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="129"
		data-flex-basis="310px"
	
></p>
<h3 id="x264-decomb-handbrake">x264 Decomb (HandBrake)
</h3><ul>
<li>Started with High Profile</li>
<li>Picture Settings &gt; Filters
<ul>
<li>Decomb: Bob</li>
</ul>
</li>
</ul>
<p><img src="/post/video/2017/repairing-h264-interlaced-footage/hbx264-04.png"
	width="519"
	height="307"
	
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="169"
		data-flex-basis="405px"
	
>
<img src="/post/video/2017/repairing-h264-interlaced-footage/hbx264-05.png"
	width="1269"
	height="758"
	
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="167"
		data-flex-basis="401px"
	
>
<img src="/post/video/2017/repairing-h264-interlaced-footage/hbx264-06.png"
	width="686"
	height="530"
	
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="129"
		data-flex-basis="310px"
	
></p>
<h3 id="x264-deinterlace-top-field-first-handbrake">x264 Deinterlace, Top Field First (HandBrake)
</h3><ul>
<li>Started with High Profile</li>
<li>Picture Settings &gt; Filters
<ul>
<li>Deinterlace: Bob</li>
</ul>
</li>
<li>Add <code>:tff</code> under Additional Options</li>
</ul>
<p><img src="/post/video/2017/repairing-h264-interlaced-footage/hbx264-07.png"
	width="686"
	height="530"
	
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="129"
		data-flex-basis="310px"
	
></p>
<h3 id="x264-decomb-top-field-first-handbrake">x264 Decomb, Top Field First (HandBrake)
</h3><ul>
<li>Started with High Profile</li>
<li>Picture Settings &gt; Filters
<ul>
<li>Decomb: Bob</li>
</ul>
</li>
<li>Add <code>:tff</code> under Additional Options</li>
</ul>
<p><img src="/post/video/2017/repairing-h264-interlaced-footage/hbx264-08.png"
	width="686"
	height="530"
	
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="129"
		data-flex-basis="310px"
	
></p>
<h3 id="apple-prores-422-compressor">Apple ProRes 422 (Compressor)
</h3><ul>
<li>Started with stock preset</li>
<li>Retiming quality set to Better (Motion Adaptive)</li>
</ul>
<p><img src="/post/video/2017/repairing-h264-interlaced-footage/prores-01.png"
	width="1222"
	height="1034"
	
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="118"
		data-flex-basis="283px"
	
></p>
<h3 id="h264-for-archival-compressor">H.264 for Archival (Compressor)
</h3><ul>
<li>Duplicate stock Up to 4K preset (can be found under either Publish to Vimeo or Publish to YouTube)</li>
<li>Rename as H.264 for Archival</li>
<li>Change Data rate from Web publishing (19531 kbps) to Computer playback (29296 kbps). Note rates listed in Compressor are for actual 4K footage and will be smaller for 720p footage.</li>
<li>Change retiming quality from Fast to Better (Motion Adaptive)</li>
<li>Change audio from AAC to Linear PCM 48kHz, Best Quality, 16-bit Little Endian (the Intel Default)<sup id="fnref:5"><a href="#fn:5" class="footnote-ref" role="doc-noteref">5</a></sup></li>
</ul>
<p><img src="/post/video/2017/repairing-h264-interlaced-footage/upto4k-01.png"
	width="1267"
	height="869"
	
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="145"
		data-flex-basis="349px"
	
>
<img src="/post/video/2017/repairing-h264-interlaced-footage/upto4k-02.png"
	width="878"
	height="690"
	
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="127"
		data-flex-basis="305px"
	
>
<img src="/post/video/2017/repairing-h264-interlaced-footage/upto4k-03.png"
	width="1267"
	height="869"
	
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="145"
		data-flex-basis="349px"
	
>
<img src="/post/video/2017/repairing-h264-interlaced-footage/upto4k-04.png"
	width="1267"
	height="869"
	
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="145"
		data-flex-basis="349px"
	
></p>
<h3 id="phyx-cleaner">PHYX Cleaner
</h3><p><img src="/post/video/2017/repairing-h264-interlaced-footage/phyx-cleaner-deinterlace-settings.png"
	width="2032"
	height="1169"
	
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="173"
		data-flex-basis="417px"
	
></p>
<h2 id="references">References
</h2><div class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1">
<p>Examples of combing <a class="link" href="https://en.wikipedia.org/wiki/Interlaced_video#Interlacing_problems"  target="_blank" rel="noopener"
    >https://en.wikipedia.org/wiki/Interlaced_video#Interlacing_problems</a>&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:2">
<p>Recorded Interlaced Source as Progressive file - now what? <a class="link" href="http://forum.telestream.net/forum/messageview.aspx?catid=45&amp;threadid=23213"  target="_blank" rel="noopener"
    >http://forum.telestream.net/forum/messageview.aspx?catid=45&threadid=23213</a>&#160;<a href="#fnref:2" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:3">
<p>Tip to use <code>:tff</code> in Handbrake <a class="link" href="http://stackoverflow.com/questions/9287122/how-do-i-set-the-interlaced-flag-on-an-mkv-file-so-that-vlc-can-automatically-pl"  target="_blank" rel="noopener"
    >http://stackoverflow.com/questions/9287122/how-do-i-set-the-interlaced-flag-on-an-mkv-file-so-that-vlc-can-automatically-pl</a>&#160;<a href="#fnref:3" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:4">
<p><a class="link" href="https://larryjordan.com/articles/compressor-x264-improve-video/"  target="_blank" rel="noopener"
    >https://larryjordan.com/articles/compressor-x264-improve-video/</a>&#160;<a href="#fnref:4" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:5">
<p><a class="link" href="https://larryjordan.com/articles/it-aint-the-endian-of-the-world/"  target="_blank" rel="noopener"
    >https://larryjordan.com/articles/it-aint-the-endian-of-the-world/</a>&#160;<a href="#fnref:5" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</div>

</section>


    <footer class="article-footer">
    
    <section class="article-tags">
        
            <a href="/tags/repair/">Repair</a>
        
    </section>


    </footer>


    
</article>

    

    

     
    
        
    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
            2016 - 
        
        2024 Krishna Bhamidipati
    </section>
    
    <section class="powerby">
        
            Krishna Bhamidipati <br/>
        Built with <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> <br />
        Theme <b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="3.27.0">Stack</a></b> designed by <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a>
    </section>
</footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css"crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css"crossorigin="anonymous"
            >

            </main>
        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js"integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z&#43;KMkF24hUW8WePSA9HM="crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="/ts/main.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>

    </body>
</html>
