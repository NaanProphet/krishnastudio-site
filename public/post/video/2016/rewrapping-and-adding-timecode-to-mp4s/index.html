<!DOCTYPE html>
<html lang="en-us" dir="ltr">
    <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content="Rewrapping MP4s as MOVs to Add Timecode">
<title>How to Add Timecode to MP4 Files</title>

<link rel='canonical' href='http://localhost:1313/post/video/2016/rewrapping-and-adding-timecode-to-mp4s/'>

<link rel="stylesheet" href="/scss/style.min.663803bebe609202d5b39d848f2d7c2dc8b598a2d879efa079fa88893d29c49c.css"><meta property='og:title' content="How to Add Timecode to MP4 Files">
<meta property='og:description' content="Rewrapping MP4s as MOVs to Add Timecode">
<meta property='og:url' content='http://localhost:1313/post/video/2016/rewrapping-and-adding-timecode-to-mp4s/'>
<meta property='og:site_name' content='Krishna Bhamidipati'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:tag' content='codecs' /><meta property='article:published_time' content='2016-01-24T00:00:00&#43;00:00'/><meta property='article:modified_time' content='2016-01-24T00:00:00&#43;00:00'/>
<meta name="twitter:title" content="How to Add Timecode to MP4 Files">
<meta name="twitter:description" content="Rewrapping MP4s as MOVs to Add Timecode">
    </head>
    <body class="
    article-page
    ">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky ">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="Toggle Menu">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header>
        
            
            <figure class="site-avatar">
                <a href="/">
                
                    
                    
                    
                        
                        <img src="/img/avatar_hu13739649187745961479.png" width="300"
                            height="300" class="site-logo" loading="lazy" alt="Avatar">
                    
                
                </a>
                
                    <span class="emoji">ðŸ‘€</span>
                
            </figure>
            
        
        
        <div class="site-meta">
            <h1 class="site-name"><a href="/">Krishna Bhamidipati</a></h1>
            <h2 class="site-description">Keep Asking How</h2>
        </div>
    </header><ol class="menu" id="main-menu">
        
        
        
        <li >
            <a href='/page/archives/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <rect x="3" y="4" width="18" height="4" rx="2" />
  <path d="M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10" />
  <line x1="10" y1="12" x2="14" y2="12" />
</svg>



                
                <span>Archives</span>
            </a>
        </li>
        
        
        <li >
            <a href='/page/search/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="10" cy="10" r="7" />
  <line x1="21" y1="21" x2="15" y2="15" />
</svg>



                
                <span>Search</span>
            </a>
        </li>
        
        
        <li >
            <a href='/page/gear/' >
                
                
                
                    <svg  xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-device-laptop"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 19l18 0" /><path d="M5 6m0 1a1 1 0 0 1 1 -1h12a1 1 0 0 1 1 1v8a1 1 0 0 1 -1 1h-12a1 1 0 0 1 -1 -1z" /></svg>
                
                <span>Gear</span>
            </a>
        </li>
        
        
        <li >
            <a href='/page/about/' >
                
                
                
                    <svg  xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-lego"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9.5 11l.01 0" /><path d="M14.5 11l.01 0" /><path d="M9.5 15a3.5 3.5 0 0 0 5 0" /><path d="M7 5h1v-2h8v2h1a3 3 0 0 1 3 3v9a3 3 0 0 1 -3 3v1h-10v-1a3 3 0 0 1 -3 -3v-9a3 3 0 0 1 3 -3" /></svg>
                
                <span>About</span>
            </a>
        </li>
        
        
        <li >
            <a href='/page/links/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5" />
  <path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5" />
</svg>



                
                <span>Links</span>
            </a>
        </li>
        
        <li class="menu-bottom-section">
            <ol class="menu">

                
                    <li id="dark-mode-toggle">
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <span>Dark Mode</span>
                    </li>
                
            </ol>
        </li>
    </ol>
</aside>

    <aside class="sidebar right-sidebar sticky">
        
            
                
    <section class="widget archives">
        <div class="widget-icon">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <line x1="5" y1="9" x2="19" y2="9" />
  <line x1="5" y1="15" x2="19" y2="15" />
  <line x1="11" y1="4" x2="7" y2="20" />
  <line x1="17" y1="4" x2="13" y2="20" />
</svg>



        </div>
        <h2 class="widget-title section-title">Table of contents</h2>
        
        <div class="widget--toc">
            <nav id="TableOfContents">
  <ul>
    <li><a href="#where-has-timecode-gone">Where Has Timecode Gone?</a></li>
    <li><a href="#mov-to-the-rescue">MOV to the Rescue</a></li>
    <li><a href="#the-setup">The Setup</a></li>
    <li><a href="#editready-lives-up-to-its-name">EditReady Lives up to Its Name</a></li>
    <li><a href="#conclusion">Conclusion</a></li>
    <li><a href="#appendix-the-b-list">Appendix: The &ldquo;B&rdquo; List</a>
      <ul>
        <li><a href="#ffmpeg-woes">ffmpeg Woes</a></li>
        <li><a href="#videotoolshed-mp4-to-quicktime">VideoToolShed MP4 to QuickTime</a></li>
        <li><a href="#cineplay">CinePlay</a></li>
      </ul>
    </li>
    <li><a href="#history">History</a></li>
  </ul>
</nav>
        </div>
    </section>

            
        
    </aside>


            <main class="main full-width">
    <article class="main-article">
    <header class="article-header">

    <div class="article-details">
    
    <header class="article-category">
        
            <a href="/categories/video/" >
                Video
            </a>
        
    </header>
    

    <div class="article-title-wrapper">
        <h2 class="article-title">
            <a href="/post/video/2016/rewrapping-and-adding-timecode-to-mp4s/">How to Add Timecode to MP4 Files</a>
        </h2>
    
        
        <h3 class="article-subtitle">
            Rewrapping MP4s as MOVs to Add Timecode
        </h3>
        
    </div>

    
    
    
    
    <footer class="article-time">
        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published">Jan 24, 2016</time>
            </div>
        

        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



                <time class="article-time--reading">
                    7 minute read
                </time>
            </div>
        
    </footer>
    

    
</div>

</header>

    <section class="article-content">
    
    
    <h2 id="where-has-timecode-gone">Where Has Timecode Gone?
</h2><p>Newer, prosumer codecs these days like Sony XAVC-S don&rsquo;t seem to record video with timecode. It&rsquo;s one of the chief drawbacks that knocks the otherwise brilliant Sony AX100 from solid professional use. Timecode tracks can save mountains of time when editing multicamera shots, relinking media files, trimming clips precisely and so onâ€”which, ostensibly, most home video footage won&rsquo;t call upon.</p>
<p>Prosumer camera codecs like AVCHD and XAVC-S write H.264 video in MP4 containers. H.264 is a compressed video format originally intended for delivery, not editing, but its role has slowly evolved. Prosumer cameras really benefit from the compression because then 4 hrs of 4K can still fit on a 128 GB SD card.</p>
<p>MP4 containers don&rsquo;t traditionally support timecode which may help to explain why the recent trend in dropping timecode. Although <a class="link" href="https://developer.apple.com/library/mac/technotes/tn2174/_index.html"  target="_blank" rel="noopener"
    >Apple supports timecode in MP4 containers</a> since 2013, <a class="link" href="https://www.digitalrebellion.com/blog/posts/how_to_create_timecode_tracks_for_h.264_movies_in_compressor"  target="_blank" rel="noopener"
    >other software may exhibit side-effects reading timecode-rich MP4s</a> if they do not expect it.</p>
<h2 id="mov-to-the-rescue">MOV to the Rescue
</h2><p>MOV containers are like the Swiss army knife of containers. Unlike MP4, MOV supports timecode tracks full out, and rewrapping from MP4 to MOV can be done in a number of ways! But which are robust and which go bust?</p>
<p>Short answer: EditReady is the most robust rewrapper out there, and can even be scripted from the command line. Read on for the details and why others didn&rsquo;t cut it (no pun intended).</p>
<h2 id="the-setup">The Setup
</h2><p>The following tests were performed using AVCHD files already in MOV format as imported on a MBP with Photos. They however, did not have timecode.</p>
<p>After timecode was added to the MOV container, the file was opened with QuickTime Player 7 and Compressor 4 to verify timecode. The file was then transcoded with Compressor to check its integrity.</p>
<h2 id="editready-lives-up-to-its-name">EditReady Lives up to Its Name
</h2><p><a class="link" href="http://www.divergentmedia.com/editready"  target="_blank" rel="noopener"
    >EditReady</a> is a champion at rewrapping footage. Divergent Media makes excellent products and their customer service is bar none. When I had written regarding the ghost render, Colin at Divergent Media explained:</p>
<blockquote>
<p>Compressor isn&rsquo;t good at recovering from bad frames, so that&rsquo;s the mostly likely problem. You hit one bad segment and it just gives up. EditReady is a little better about moving past those segments. It could have been a bad SD card or something during the original shoot.</p>
</blockquote>
<p>EditReady&rsquo;s algorithms can correct this, so it&rsquo;s really the most versatile program out there. Rewrapping with EditReady makes Compressor super, super happy.</p>
<p><img src="/post/video/2016/rewrapping-and-adding-timecode-to-mp4s/edit-ready-rewrap-window.png"
	width="750"
	height="509"
	
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="147"
		data-flex-basis="353px"
	
></p>
<p>EditReady&rsquo;s rewrap affected the FCP X date at first, but turns out it was because there were conflicting dates inside the container&rsquo;s metadata!</p>
<p><img src="/post/video/2016/rewrapping-and-adding-timecode-to-mp4s/rewrap-editready-file-dates.png"
	width="756"
	height="113"
	
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="669"
		data-flex-basis="1605px"
	
></p>
<p>EditReady&rsquo;s Metadata window calls this to your attention and allows you to select and/or set which date you would like.</p>
<p><img src="/post/video/2016/rewrapping-and-adding-timecode-to-mp4s/editready-metadata-date-conflict-resolution.gif"
	width="726"
	height="457"
	
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="158"
		data-flex-basis="381px"
	
></p>
<p>As you can see the original file does not have any timecode. By default, EditReady will preserve timecode if present, but not generate it if absent on the original. However, clicking the + icon in the upper right allows one to add a timecode tag as well! (By default, if the field is blank, timecode will start at <code>00:00:00:00</code>).</p>
<p><img src="/post/video/2016/rewrapping-and-adding-timecode-to-mp4s/editready-metadata-add-timecode.gif"
	width="726"
	height="457"
	
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="158"
		data-flex-basis="381px"
	
></p>
<p>The size of the rewrapped, timecode footage is the same within a few bytes. Strangely enough, QuickTime Player 7 did crash a few times when scrubbing both.</p>
<p><img src="/post/video/2016/rewrapping-and-adding-timecode-to-mp4s/timecode-test-original-stats.png"
	width="299"
	height="384"
	
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="77"
		data-flex-basis="186px"
	
>
<img src="/post/video/2016/rewrapping-and-adding-timecode-to-mp4s/editready-rewrap-stats.png"
	width="299"
	height="382"
	
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="78"
		data-flex-basis="187px"
	
></p>
<p>The rewrapped video however was larger in the number of frames: without timecode generation, it was <code>159165</code> frames instead of <code>159164</code> and with timecode it was <code>159166</code>. Thinking this might have been the potential missing frame correction, I checked against another clip that rendered properly in Compressor, but the EditReady rewrap (without timecode) was again greater in frames: <code>174150</code> vs <code>174149</code>.</p>
<p><img src="/post/video/2016/rewrapping-and-adding-timecode-to-mp4s/rewrap-original-frame-count.png"
	width="1008"
	height="422"
	
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="238"
		data-flex-basis="573px"
	
>
<img src="/post/video/2016/rewrapping-and-adding-timecode-to-mp4s/editready-rewrap-one-extra-frame.png"
	width="999"
	height="440"
	
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="227"
		data-flex-basis="544px"
	
>
<img src="/post/video/2016/rewrapping-and-adding-timecode-to-mp4s/editready-rewrap-two-extra-frames.png"
	width="1021"
	height="442"
	
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="230"
		data-flex-basis="554px"
	
></p>
<p>While the cause is unknown (roundoff error maybe?), the implication of the change in number of frames is clear: rewrapping footage will make relinking offline media a nightmare! Attempting to relink the timecode version with the original brings this lovely dialog:</p>
<p><img src="/post/video/2016/rewrapping-and-adding-timecode-to-mp4s/editready-rewrap-frame-change-relinking.png"
	width="532"
	height="324"
	
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="164"
		data-flex-basis="394px"
	
></p>
<p>Thus, always rewrap footage first before beginning editing.</p>
<h2 id="conclusion">Conclusion
</h2><p>At the end of the day, EditReady is the most reliable way of rewrapping and adding timecode to any footage. Repairing even small nicks from original footage, it serves a a trustworthy partner in the initial post-processing logging and transfer workflow.</p>
<h2 id="appendix-the-b-list">Appendix: The &ldquo;B&rdquo; List
</h2><p>Sometimes &ldquo;B&rdquo; is generous. Here&rsquo;s what doesn&rsquo;t work.</p>
<h3 id="ffmpeg-woes">ffmpeg Woes
</h3><p>ffmpeg is the open source king for video compression. Many programs like Handbrake are built on it, so I was excited to learn it can add timecode as well! To rewrap a container with timecode the syntax is like so:</p>
<p><code>ffmpeg -i Day_1.mov -codec copy -timecode 04:25:50.00 Day_1.ffmpeg.mov</code></p>
<p>Note: the timecode seems to be automatically calculated based on the framerate of the video track. Also, by default, ffmpeg only preserves 1 video and 1 audio track.</p>
<p>While ffmpeg successfully added timecode, the resulting file was a disaster for editing. The file systematically quits @ 20 seconds on any render in Compressor, suggesting some kind of container corruption.</p>
<p><img src="/post/video/2016/rewrapping-and-adding-timecode-to-mp4s/timecode-ffmpeg-compressor-fail.png"
	width="979"
	height="321"
	
	loading="lazy"
	
		alt="Timecode added by ffmpeg fails to render with Compressor"
	
	
		class="gallery-image" 
		data-flex-grow="304"
		data-flex-basis="731px"
	
></p>
<p>Furthermore, although the file did play in QuickTime Player X and QuickTime Player 7, <strong>scrubbing the playhead sometimes caused the application to crash</strong>!</p>
<p><img src="/post/video/2016/rewrapping-and-adding-timecode-to-mp4s/timecode-ffmpeg-qt7-scrubbing-fail.png"
	width="632"
	height="375"
	
	loading="lazy"
	
		alt="Timecode added by ffmpeg crashes during QT7 scrubbing"
	
	
		class="gallery-image" 
		data-flex-grow="168"
		data-flex-basis="404px"
	
></p>
<p>The file crashed when scrubbing in Compressor as well.</p>
<p><img src="/post/video/2016/rewrapping-and-adding-timecode-to-mp4s/timecode-ffmpeg-compressor42-scrubbing-fail.png"
	width="632"
	height="375"
	
	loading="lazy"
	
		alt="Cannot scrub ffmped rewrapped file"
	
	
		class="gallery-image" 
		data-flex-grow="168"
		data-flex-basis="404px"
	
></p>
<p>Lastly, the first frame is often black. Note in particular the strange, red vertical lines in Compressor&rsquo;s preview window.</p>
<p><img src="/post/video/2016/rewrapping-and-adding-timecode-to-mp4s/timecode-ffmpeg-compressor-black-screen.png"
	width="1436"
	height="724"
	
	loading="lazy"
	
		alt="Black opening frame in Compressor"
	
	
		class="gallery-image" 
		data-flex-grow="198"
		data-flex-basis="476px"
	
></p>
<p>In a way, ffmpeg is a video delivery king, but perhaps not an editing king.</p>
<h3 id="videotoolshed-mp4-to-quicktime">VideoToolShed MP4 to QuickTime
</h3><p><a class="link" href="http://www.videotoolshed.com/product/66/mp4-to-quicktime/3"  target="_blank" rel="noopener"
    >Videotoolshed&rsquo;s MP4 to QuickTime</a> was another contender, but starting from version 6 the program uses ffmpeg under the hood, to increase compatibility with other programs. So it too exhibits the same problems and failed to render with Compressor.</p>
<p><img src="/post/video/2016/rewrapping-and-adding-timecode-to-mp4s/timecode-mp4toqt61-compressor-fail.png"
	width="979"
	height="338"
	
	loading="lazy"
	
		alt="Timecode added by mp4toqt61 fails to render with Compressor"
	
	
		class="gallery-image" 
		data-flex-grow="289"
		data-flex-basis="695px"
	
></p>
<p>Also, the VideoToolShed GUI is very rough around the edges:</p>
<ul>
<li>Only detects MP4 files. So to add timecode to existing MOVs, the files first have to be renamed to trick the program to open them.</li>
<li>When processing the program won&rsquo;t come back to the foreground. Hovering with the mouse shows the little color pinwheel&hellip;</li>
<li>Files also can&rsquo;t be dragged and dropped, etc.</li>
</ul>
<p>So ya, the little thingsâ€”and some big things as well.</p>
<h3 id="cineplay">CinePlay
</h3><p><a class="link" href="https://www.digitalrebellion.com/cineplay/"  target="_blank" rel="noopener"
    >CinePlay by Digital Rebellion</a> is almost like QuickTime X Pro and could serve as a solid competitor to <a class="link" href="http://simplemoviex.com/SimpleMovieX/index.var"  target="_blank" rel="noopener"
    >SimpleMovieX</a>. CinePlay offers numerous vital features for editing:</p>
<ul>
<li>Timecode display</li>
<li>Text input of timecode location</li>
<li>Add markers and annotationsâ€”including drawings! (Chapters not visible automatically in Compressor/FCP X, but can be exported to text files and imported manually)</li>
<li>Set ins and outs (standard FCP7 keyboard shortcuts)</li>
<li>Many others like video rotation, timecode and titlesafe overlays, etc.</li>
</ul>
<p>Moreover, CinePlay&rsquo;s Export window offers a rewrapping option (<a class="link" href="https://www.digitalrebellion.com/blog/posts/rewrapping_mp4_to_mov_with_cineplay"  target="_blank" rel="noopener"
    >see their own blog post here</a>) which automatically adds NDF timecode starting at 00:00:00:00â€”perfect for changing MP4 containers to MOV. The process however cannot be scripted from the CLI, but could be, in principle, via AppleScript to queue multiple files for export at at time.</p>
<p><img src="/post/video/2016/rewrapping-and-adding-timecode-to-mp4s/cineplay-rewrap-export.png"
	width="712"
	height="487"
	
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="146"
		data-flex-basis="350px"
	
></p>
<p>The rewrapped MOV itself appears to have full structural integrity. No funny glitches and crashes when processing the file. It does however start with a black image sometimesâ€”but unlike the ffmpeg one, this doesn&rsquo;t show any funny red lines in Compressor&rsquo;s preview window.</p>
<p><img src="/post/video/2016/rewrapping-and-adding-timecode-to-mp4s/cineplay-black-screen-timecode-starts-at-zero.png"
	width="1072"
	height="759"
	
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="141"
		data-flex-basis="338px"
	
>
<img src="/post/video/2016/rewrapping-and-adding-timecode-to-mp4s/cineplay-compressor-black-screen.png"
	width="1436"
	height="780"
	
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="184"
		data-flex-basis="441px"
	
></p>
<p>It also passes the Compressor test: no crash at the lovely 20 second mark.</p>
<p><img src="/post/video/2016/rewrapping-and-adding-timecode-to-mp4s/cineplay-compressor-success.png"
	width="1436"
	height="808"
	
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="177"
		data-flex-basis="426px"
	
></p>
<p>The rewrapped MOV is roughly the same size, within a few bytes.</p>
<p><img src="/post/video/2016/rewrapping-and-adding-timecode-to-mp4s/timecode-test-original-stats.png"
	width="299"
	height="384"
	
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="77"
		data-flex-basis="186px"
	
>
<img src="/post/video/2016/rewrapping-and-adding-timecode-to-mp4s/cineplay-rewrap-stats.png"
	width="299"
	height="371"
	
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="80"
		data-flex-basis="193px"
	
></p>
<p>However, while the original was <code>159164</code> frames, the rewrapped one is <code>159111</code>.</p>
<p><img src="/post/video/2016/rewrapping-and-adding-timecode-to-mp4s/rewrap-original-frame-count.png"
	width="1008"
	height="422"
	
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="238"
		data-flex-basis="573px"
	
>
<img src="/post/video/2016/rewrapping-and-adding-timecode-to-mp4s/cineplay-rewrap-missing-frames.png"
	width="1009"
	height="415"
	
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="243"
		data-flex-basis="583px"
	
></p>
<p>The first setback is CinePlay changes the File Creation Date of the file (i.e. the one that&rsquo;s read from <code>GetFileInfo</code> from the Terminal) so the date in FCP X is changed from the original to the date of the rewrapping. Also note, though how the timecode duration <em>appears</em> longer in FCP X. This I reckon is because the timecode track is NDF but the FR is 29.97, and/or some metadata is incorrect in CinePlay&rsquo;s rewrap. (In Compressor, the last frame&rsquo;s timecode is <code>01:28:23:21</code>.)</p>
<p><img src="/post/video/2016/rewrapping-and-adding-timecode-to-mp4s/rewrap-editready-file-dates.png"
	width="756"
	height="113"
	
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="669"
		data-flex-basis="1605px"
	
></p>
<p>Also, the frame rate of the rewrapped footage is no longer 29.97 but instead 30, as told to Compressor.</p>
<p><img src="/post/video/2016/rewrapping-and-adding-timecode-to-mp4s/cineplay-changes-framerate-metadata.png"
	width="1436"
	height="920"
	
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="156"
		data-flex-basis="374px"
	
></p>
<p>Another rather serious hiccup was&hellip; the Compressor render never completed!</p>
<p><img src="/post/video/2016/rewrapping-and-adding-timecode-to-mp4s/cineplay-compressor-hang-bad-file.png"
	width="1436"
	height="836"
	
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="171"
		data-flex-basis="412px"
	
></p>
<p>Turns out the original movie file I inherited was somehow corrupt. (Photos probably isn&rsquo;t the best tool to import AVCHD footage.) Not CinePlay&rsquo;s fault at all but it does knock it out of first place for fault tolerance!</p>
<h2 id="history">History
</h2><p><em>[Updated July 5, 2019 with wording and ordering changes.]</em></p>

</section>


    <footer class="article-footer">
    
    <section class="article-tags">
        
            <a href="/tags/codecs/">Codecs</a>
        
    </section>


    </footer>


    
</article>

    

    

<aside class="related-content--wrapper">
    <h2 class="section-title">Related content</h2>
    <div class="related-content">
        <div class="flex article-list--tile">
            
                
<article class="">
    <a href="/post/video/2016/masquerading-mp4-files/">
        
        

        <div class="article-details">
            <h2 class="article-title">Renaming MP4 to M4V to open with QT7 &amp; Compressor</h2>
        </div>
    </a>
</article>

            
                
<article class="">
    <a href="/post/video/2016/reverse-engineering-xavcs-xml/">
        
        

        <div class="article-details">
            <h2 class="article-title">Reverse Engineering XAVC-S XML Files</h2>
        </div>
    </a>
</article>

            
        </div>
    </div>
</aside>

     
    
        
    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
            2016 - 
        
        2024 Krishna Bhamidipati
    </section>
    
    <section class="powerby">
        
            Krishna Bhamidipati <br/>
        Built with <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> <br />
        Theme <b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="3.27.0">Stack</a></b> designed by <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a>
    </section>
</footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css"crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css"crossorigin="anonymous"
            >

            </main>
        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js"integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z&#43;KMkF24hUW8WePSA9HM="crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="/ts/main.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>

    </body>
</html>
